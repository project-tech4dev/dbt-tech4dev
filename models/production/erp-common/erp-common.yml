version: 2
models:
  - name: opportunities
    columns:
      - name: name
        description: Unique identifier for the opportunity
      - name: opportunity_type
        description: Type of opportunity
      - name: status
        description: Current status of the opportunity
      - name: creation_date
        description: Date when the opportunity was created
      - name: creation_timestamp
        description: Timestamp when the opportunity was created
      - name: product_type
        description: Product type associated with the opportunity
  - name: monthly_digest
    columns: []
  - name: sales_invoice
    columns:
      - name: product_type
        description: Product type of the invoice
      - name: name
        description: Invoice identifier
      - name: customer
        description: Customer associated with the invoice
      - name: status
        description: Current status of the invoice
      - name: due_date
        description: Due date for the invoice payment
      - name: outstanding_amount
        description: Outstanding amount on the invoice
  - name: projects
    columns:
      - name: name
        description: Unique identifier for the project
        config:
          meta: {}
          tags: []
      - name: project_name
        description: Name of the project
        config:
          meta: {}
          tags: []
      - name: status
        description: Current status of the project
        config:
          meta: {}
          tags: []
      - name: expected_start_date
        description: Expected project start date
        config:
          meta: {}
          tags: []
      - name: expected_end_date
        description: Expected project end date
        config:
          meta: {}
          tags: []
      - name: product_type
        description: Product type of the project
        config:
          meta: {}
          tags: []
      - name: contract_status
        description: Contract status of the project
        config:
          meta: {}
          tags: []
      - name: owner
        description: Owner/manager of the project
        config:
          meta: {}
          tags: []
      - name: expected_start_date_text
        description: Expected start date in text format
        config:
          meta: {}
          tags: []
      - name: expected_end_date_text
        description: Expected end date in text format
        config:
          meta: {}
          tags: []
      - name: focus_areas
        description: Focus areas of the project
        config:
          meta: {}
          tags: []
    description: >-
      This table contains information on projects, including their unique identifiers, current status,
      and expected timelines, such as start and end dates.
  - name: resource_allocation_metrics
    columns:
      - name: month_start_date
        description: Start date of the allocation period
        config:
          meta: {}
          tags: []
      - name: month_end_date
        description: The end date of the allocation period for a specific month.
        config:
          meta: {}
          tags: []
      - name: department
        description: Department name
        config:
          meta: {}
          tags: []
      - name: employee_name
        description: Name of the employee
        config:
          meta: {}
          tags: []
      - name: utilized_hours
        description: The total hours utilized by a resource within a given allocation period.
        config:
          meta: {}
          tags: []
      - name: balance_hours
        description: Remaining balance hours
        config:
          meta: {}
          tags: []
      - name: total_capacity
        description: Total capacity in hours
        config:
          meta: {}
          tags: []
      - name: utilization_percentage
        description: >-
          The percentage of allocated hours utilized out of the total capacity for a given resource within
          the specified period.
        config:
          meta: {}
          tags: []
      - name: dept_employee_count
        description: Number of employees in the department for the given allocation period.
        config:
          meta: {}
          tags: []
      - name: dept_utilized_hours
        description: The number of hours utilized by a department during the allocation period.
        config:
          meta: {}
          tags: []
      - name: dept_balance_hours
        description: Remaining balance hours for the department within the allocation period.
        config:
          meta: {}
          tags: []
      - name: dept_total_capacity
        description: Total capacity in hours for the department within the specified period.
        config:
          meta: {}
          tags: []
      - name: dept_avg_utilization
        description: >-
          Average utilization percentage of resources for a department within a specific period.
        config:
          meta: {}
          tags: []
    description: >-
      The "resource_allocation_metrics" table provides monthly metrics on resource allocation, including
      start and end dates, department and employee details, utilized hours, balance hours, total capacity,
      utilization percentages, and departmental aggregates.
  - name: resource_time_allocation
    columns: []
    description: >-
      The "resource_time_allocation" table provides a detailed overview of resource time allocations,
      including unique identifiers, employee details, department information, and time-based metrics such
      as total and balance hours, capacity, and allocation periods.
  - name: task_hierarchy
    columns:
      - name: level_1
        description: >-
          Indicates the top-level category or grouping of the task within the task hierarchy structure.
        config:
          meta: {}
          tags: []
      - name: level_2
        description: >-
          Represents the second level in the task hierarchy, which helps categorize tasks within a broader
          structure.
        config:
          meta: {}
          tags: []
      - name: status
        description: Current status of the task
        config:
          meta: {}
          tags: []
      - name: predecessor
        description: Predecessor task in the workflow
        config:
          meta: {}
          tags: []
      - name: successor
        description: Successor task in the workflow
        config:
          meta: {}
          tags: []
      - name: project_name
        description: Name of the associated project
        config:
          meta: {}
          tags: []
      - name: description
        description: Description of the task
        config:
          meta: {}
          tags: []
      - name: extracted_link
        description: URL extracted from the task description
        config:
          meta: {}
          tags: []
      - name: completion_float
        description: >-
          A numeric value representing the percentage of task completion within the task hierarchy.
        config:
          meta: {}
          tags: []
    description: >-
      A table containing hierarchical task data with levels indicating the structure of tasks, their current
      status, associated project, and a float representing task completion.
  - name: resource_allocation
    columns:
      - name: idx
        description: Unique index identifier
      - name: name
        description: Resource allocation identifier
      - name: hours
        description: Allocated hours
      - name: month
        description: Month of allocation
      - name: product
        description: Product associated with allocation
      - name: project
        description: Project identifier
      - name: project_name
        description: Name of the project
      - name: activity
        description: Activity description
      - name: owner
        description: Owner of the allocation
      - name: modified_date
        description: Date when allocation was last modified
      - name: parent
        description: Parent allocation identifier
      - name: docstatus
        description: Document status
      - name: modified_by
        description: User who last modified the allocation
      - name: total_capacity
        description: Total capacity in hours
      - name: month_start_date
        description: Start date of the allocation month
      - name: employee_name
        description: Name of the employee
  - name: monthly_digest
    columns:
      - name: project
        description: Project identifier
      - name: project_name
        description: Name of the project
      - name: status
        description: Current status of the project
      - name: product_type
        description: Product type of the project
      - name: month
        description: Month of the digest
      - name: year
        description: Year of the digest
      - name: hours_spend
        description: Hours spent on the project
      - name: hours_committed
        description: Hours committed to the project
      - name: highlights
        description: Project highlights for the month
      - name: challenges
        description: Challenges faced during the month
      - name: unplanned_work
        description: Unplanned work completed
      - name: plan_next_month
        description: Plans for the next month
      - name: lessons_learned
        description: Lessons learned during the month
      - name: last_edited_time
        description: Last time the digest was edited
      - name: creation_time
        description: Time when the digest was created
      - name: report_date
        description: Date of the monthly report
      - name: is_most_recent
        description: Indicates if this is the most recent digest for the project
